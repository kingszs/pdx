{"remainingRequest":"/Users/zjb/Desktop/vuepress-theme-reco-demo-demo-1.x/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zjb/Desktop/vuepress-theme-reco-demo-demo-1.x/.vuepress/theme/components/Common.vue?vue&type=style&index=0&id=5e395e5c&lang=stylus&scoped=true&","dependencies":[{"path":"/Users/zjb/Desktop/vuepress-theme-reco-demo-demo-1.x/.vuepress/theme/components/Common.vue","mtime":1640087980097},{"path":"/Users/zjb/Desktop/vuepress-theme-reco-demo-demo-1.x/node_modules/css-loader/dist/cjs.js","mtime":1640009954690},{"path":"/Users/zjb/Desktop/vuepress-theme-reco-demo-demo-1.x/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1640009954938},{"path":"/Users/zjb/Desktop/vuepress-theme-reco-demo-demo-1.x/node_modules/postcss-loader/src/index.js","mtime":1640009954807},{"path":"/Users/zjb/Desktop/vuepress-theme-reco-demo-demo-1.x/node_modules/stylus-loader/index.js","mtime":1640009956131},{"path":"/Users/zjb/Desktop/vuepress-theme-reco-demo-demo-1.x/node_modules/cache-loader/dist/cjs.js","mtime":1640009954515},{"path":"/Users/zjb/Desktop/vuepress-theme-reco-demo-demo-1.x/node_modules/vue-loader/lib/index.js","mtime":1640009954938}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoudGhlbWUtY29udGFpbmVyCiAgLmxvYWRpbmctd3JhcHBlcgogICAgcG9zaXRpb24gYWJzb2x1dGUKICAgIHotaW5kZXggMjIKICAgIHRvcCAwCiAgICBib3R0b20gMAogICAgbGVmdCAwCiAgICByaWdodCAwCiAgICBtYXJnaW4gYXV0bwoKICAucGFzc3dvcmQtd3JhcHBlci1vdXQKICAgIHBvc2l0aW9uIGFic29sdXRlCiAgICB6LWluZGV4IDIxCiAgICB0b3AgMAogICAgYm90dG9tIDAKICAgIGxlZnQgMAogICAgcmlnaHQgMAogICAgbWFyZ2luIGF1dG8KCiAgLnBhc3N3b3JkLXdyYXBwZXItaW4KICAgIHBvc2l0aW9uIGFic29sdXRlCiAgICB6LWluZGV4IDgKICAgIHRvcCAwCiAgICBib3R0b20gMAogICAgbGVmdCAwCiAgICByaWdodCAwCgogIC5oaWRlCiAgICBoZWlnaHQgMTAwdmgKICAgIG92ZXJmbG93IGhpZGRlbgoKLmZhZGUtZW50ZXItYWN0aXZlLCAuZmFkZS1sZWF2ZS1hY3RpdmUgewogIHRyYW5zaXRpb246IG9wYWNpdHkgLjVzOwp9CgouZmFkZS1lbnRlciwgLmZhZGUtbGVhdmUtdG8gLyogLmZhZGUtbGVhdmUtYWN0aXZlIGJlbG93IHZlcnNpb24gMi4xLjggKi8KewogIG9wYWNpdHk6IDA7Cn0KCi53cmFwcGVyLW1haW4gewogIC8vIGJhY2tncm91bmQ6IHVybCgiaHR0cHM6Ly9wYW4uemVhbHNheS5jb20vemVhbHNheS9jb3Zlci8xLmpwZyIpIGNlbnRlciBjZW50ZXIgLyBjb3ZlciBuby1yZXBlYXQKICBoZWlnaHQgMTAwdmgKfQoKLndyYXBwZXItcGFnZSB7CiAgLy9iYWNrZ3JvdW5kOiB1cmwoImh0dHBzOi8vcGFuLnplYWxzYXkuY29tL3plYWxzYXkvY292ZXIvMS5qcGciKSBjZW50ZXIgY2VudGVyIC8gY292ZXIgbm8tcmVwZWF0CiAgaGVpZ2h0IDI4cmVtCiAgcG9zaXRpb24gcmVsYXRpdmUKfQo="},{"version":3,"sources":["Common.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Common.vue","sourceRoot":".vuepress/theme/components","sourcesContent":["<template>\n  <div\n    class=\"theme-container\"\n    :class=\"pageClasses\"\n    @touchstart=\"onTouchStart\"\n    @touchend=\"onTouchEnd\">\n    <div v-if=\"!absoluteEncryption\">\n      <transition name=\"fade\">\n        <LoadingPage v-show=\"firstLoad\" class=\"loading-wrapper\"/>\n      </transition>\n      <transition name=\"fade\">\n        <Password v-show=\"!isHasKey\" class=\"password-wrapper-out\" key=\"out\"/>\n      </transition>\n      <div :class=\"{ 'hide': firstLoad || !isHasKey }\">\n        <div v-if=\"all\" class=\"wrapper-main\" :style=\"{\n          backgroundImage: 'url('+cover+')',\n          backgroundPositionX: 'center',\n          backgroundPositionY: 'center',\n          backgroundSize: 'cover',\n          backgroundRepeatX: 'no-repeat',\n          backgroundRepeatY: 'no-repeat'}\">\n          <Navbar\n            v-if=\"shouldShowNavbar\"\n            @toggle-sidebar=\"toggleSidebar\"/>\n\n          <div\n            class=\"sidebar-mask\"\n            @click=\"toggleSidebar(false)\"></div>\n\n          <Sidebar\n            :items=\"sidebarItems\"\n            @toggle-sidebar=\"toggleSidebar\">\n            <template slot=\"top\">\n              <PersonalInfo/>\n            </template>\n            <slot\n              name=\"sidebar-bottom\"\n              slot=\"bottom\"/>\n          </Sidebar>\n\n          <Password v-show=\"!isHasPageKey\" :isPage=\"true\" class=\"password-wrapper-in\" key=\"in\"></Password>\n          <div :class=\"{ 'hide': !isHasPageKey }\">\n            <div :id=\"all?'smart':'smart1'\">\n              <slot></slot>\n            </div>\n          </div>\n        </div>\n        <div v-else>\n          <div class=\"wrapper-page\" :id=\"all?'smart1':'smart'\" :style=\"{\n          backgroundImage: 'url('+pageCover+')',\n          backgroundPositionX: 'center',\n          backgroundPositionY: 'center',\n          backgroundSize: 'cover',\n          backgroundRepeatX: 'no-repeat',\n          backgroundRepeatY: 'no-repeat'}\">\n            <Navbar\n              v-if=\"shouldShowNavbar\"\n              @toggle-sidebar=\"toggleSidebar\"/>\n\n            <div\n              class=\"sidebar-mask\"\n              @click=\"toggleSidebar(false)\"></div>\n\n            <Sidebar\n              :items=\"sidebarItems\"\n              @toggle-sidebar=\"toggleSidebar\">\n              <template slot=\"top\">\n                <PersonalInfo/>\n              </template>\n\n              <slot\n                name=\"sidebar-bottom\"\n                slot=\"bottom\"/>\n\n            </Sidebar>\n\n            <Password v-show=\"!isHasPageKey\" :isPage=\"true\" class=\"password-wrapper-in\" key=\"in\"></Password>\n          </div>\n          <div :class=\"{ 'hide': !isHasPageKey }\">\n            <slot></slot>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div v-else>\n      <transition name=\"fade\">\n        <LoadingPage v-if=\"firstLoad\"/>\n        <Password v-else-if=\"!isHasKey\"/>\n        <div v-else>\n\n          <Navbar\n            v-if=\"shouldShowNavbar\"\n            @toggle-sidebar=\"toggleSidebar\"/>\n\n          <div\n            class=\"sidebar-mask\"\n            @click=\"toggleSidebar(false)\"></div>\n\n          <Sidebar\n            :items=\"sidebarItems\"\n            @toggle-sidebar=\"toggleSidebar\">\n            <template slot=\"top\">\n              <PersonalInfo/>\n            </template>\n            <slot\n              name=\"sidebar-bottom\"\n              slot=\"bottom\"/>\n          </Sidebar>\n\n          <Password v-if=\"!isHasPageKey\" :isPage=\"true\"></Password>\n          <div v-else>\n            <slot></slot>\n          </div>\n        </div>\n\n      </transition>\n    </div>\n  </div>\n</template>\n\n<script>\n  import Navbar from '@theme/components/Navbar'\n  import Sidebar from '@theme/components/Sidebar'\n  import PersonalInfo from '@theme/components/PersonalInfo'\n  import Password from '@theme/components/Password'\n  import {setTimeout} from 'timers'\n  import moduleTransitonMixin from '@theme/mixins/moduleTransiton'\n  import {circleMagic} from '@theme/helpers/utils'\n\n  export default {\n    mixins: [moduleTransitonMixin],\n\n    components: {Sidebar, Navbar, Password, PersonalInfo},\n\n    props: {\n      sidebar: {\n        type: Boolean,\n        default: true\n      },\n      sidebarItems: {\n        type: Array,\n        default: () => []\n      },\n      all: {\n        type: Boolean,\n        default: false\n      }\n    },\n\n    data() {\n      return {\n        isSidebarOpen: false,\n        isHasKey: true,\n        isHasPageKey: true,\n        firstLoad: true\n      }\n    },\n\n    computed: {\n      absoluteEncryption() {\n        return this.$themeConfig.keyPage && this.$themeConfig.keyPage.absoluteEncryption === true\n      },\n      cover() {\n        return this.$themeConfig.covers[new Date().getDay()] || \"https://pan.zealsay.com/zealsay/cover/1.jpg\"\n      },\n      pageCover() {\n        return this.$page.frontmatter.cover || this.$themeConfig.covers[new Date().getDay()] || \"https://pan.zealsay.com/zealsay/cover/1.jpg\"\n      },\n      shouldShowNavbar() {\n        const {themeConfig} = this.$site\n        const {frontmatter} = this.$page\n\n        if (\n          frontmatter.navbar === false ||\n          themeConfig.navbar === false\n        ) return false\n\n        return (\n          this.$title ||\n          themeConfig.logo ||\n          themeConfig.repo ||\n          themeConfig.nav ||\n          this.$themeLocaleConfig.nav\n        )\n      },\n\n      shouldShowSidebar() {\n        // const { frontmatter } = this.$page\n        // return (\n        //   this.sidebar !== false &&\n        //   !frontmatter.home &&\n        //   frontmatter.sidebar !== false &&\n        //   this.sidebarItems.length\n        // )\n        return this.sidebarItems.length > 0\n      },\n\n      pageClasses() {\n        const userPageClass = this.$frontmatter.pageClass\n        return [\n          {\n            'no-navbar': !this.shouldShowNavbar,\n            'sidebar-open': this.isSidebarOpen,\n            'no-sidebar': !this.shouldShowSidebar\n          },\n          userPageClass\n        ]\n      }\n    },\n\n    mounted() {\n      this.$router.afterEach(() => {\n        this.isSidebarOpen = false\n      })\n\n      this.hasKey()\n      this.hasPageKey()\n      this.handleLoading()\n      circleMagic({\n        radius: 15,\n        density: 0.3,\n        color: 'rgba(255,255,255, .4)',\n        // color: 'random',\n        clearOffset: 0.2\n      })\n    },\n\n    methods: {\n      hasKey() {\n        const keyPage = this.$themeConfig.keyPage\n        if (!keyPage || !keyPage.keys || keyPage.keys.length === 0) {\n          this.isHasKey = true\n          return\n        }\n\n        let {keys} = keyPage\n        keys = keys.map(item => item.toLowerCase())\n        this.isHasKey = keys && keys.indexOf(sessionStorage.getItem('key')) > -1\n      },\n      hasPageKey() {\n        let pageKeys = this.$frontmatter.keys\n        if (!pageKeys || pageKeys.length === 0) {\n          this.isHasPageKey = true\n          return\n        }\n\n        pageKeys = pageKeys.map(item => item.toLowerCase())\n\n        this.isHasPageKey = pageKeys.indexOf(sessionStorage.getItem(`pageKey${window.location.pathname}`)) > -1\n      },\n      toggleSidebar(to) {\n        this.isSidebarOpen = typeof to === 'boolean' ? to : !this.isSidebarOpen\n      },\n\n      // side swipe\n      onTouchStart(e) {\n        this.touchStart = {\n          x: e.changedTouches[0].clientX,\n          y: e.changedTouches[0].clientY\n        }\n      },\n\n      onTouchEnd(e) {\n        const dx = e.changedTouches[0].clientX - this.touchStart.x\n        const dy = e.changedTouches[0].clientY - this.touchStart.y\n        if (Math.abs(dx) > Math.abs(dy) && Math.abs(dx) > 40) {\n          if (dx > 0 && this.touchStart.x <= 80) {\n            this.toggleSidebar(true)\n          } else {\n            this.toggleSidebar(false)\n          }\n        }\n      },\n\n      handleLoading() {\n        const time = this.$frontmatter.home && sessionStorage.getItem('firstLoad') == undefined ? 1000 : 0\n        setTimeout(() => {\n          this.firstLoad = false\n          if (sessionStorage.getItem('firstLoad') == undefined) sessionStorage.setItem('firstLoad', false)\n        }, time)\n      }\n    },\n\n    watch: {\n      $frontmatter(newVal, oldVal) {\n        this.hasKey()\n        this.hasPageKey()\n      }\n    }\n  }\n</script>\n\n<style lang=\"stylus\" scoped>\n  .theme-container\n    .loading-wrapper\n      position absolute\n      z-index 22\n      top 0\n      bottom 0\n      left 0\n      right 0\n      margin auto\n\n    .password-wrapper-out\n      position absolute\n      z-index 21\n      top 0\n      bottom 0\n      left 0\n      right 0\n      margin auto\n\n    .password-wrapper-in\n      position absolute\n      z-index 8\n      top 0\n      bottom 0\n      left 0\n      right 0\n\n    .hide\n      height 100vh\n      overflow hidden\n\n  .fade-enter-active, .fade-leave-active {\n    transition: opacity .5s;\n  }\n\n  .fade-enter, .fade-leave-to /* .fade-leave-active below version 2.1.8 */\n  {\n    opacity: 0;\n  }\n\n  .wrapper-main {\n    // background: url(\"https://pan.zealsay.com/zealsay/cover/1.jpg\") center center / cover no-repeat\n    height 100vh\n  }\n\n  .wrapper-page {\n    //background: url(\"https://pan.zealsay.com/zealsay/cover/1.jpg\") center center / cover no-repeat\n    height 28rem\n    position relative\n  }\n</style>\n"]}]}