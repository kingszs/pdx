---
title: Mysqlç¯‡ -- åŸºç¡€ç¯‡
cover: https://pan.zealsay.com/zealsay/cover/5.jpg
date: 2021-09-01
tags:
  - mysql
categories:
  - Mysql
  - æŠ€æœ¯ç¬”è®°
sticky: 2
---

## 1. MySQL æ•°æ®åº“

### 1. Linux+Apache+MySQL+PHPï¼Œç›®å‰æœ€æµè¡Œçš„å¼€æºæœåŠ¡å™¨ç«¯æŠ€æœ¯ä¹‹ä¸€ã€‚

### 2. æœåŠ¡å™¨ç«¯ï¼šå­˜å‚¨ã€ç»´æŠ¤æ•°æ®

### 3. D:\xampp\mysql\bin\mysqld.exe å¯åŠ¨æ–‡ä»¶

### 4. å®¢æˆ·ç«¯ï¼šè´Ÿè´£è¿æ¥æ•°æ®åº“,å¯¹æ•°æ®ç«¯æ‰§è¡Œæ“ä½œ

D:\xampp\mysql\bin\mysql.exe å®¢æˆ·ç«¯æ–‡ä»¶

### 5. MySQL ä¸­æ–‡ä¹±ç äº§ç”Ÿçš„åŸå› 

1.  mysql é»˜è®¤ä½¿ç”¨ Latin-1.

### 6. è§£å†³ MySQL ä¹±ç é—®é¢˜

1.  è„šæœ¬æ–‡ä»¶æ ¼å¼ä¸º utf8.
2.  å®¢æˆ·ç«¯è¿æ¥æœåŠ¡å™¨ç¼–ç ä¸º utf8.
3.  æœåŠ¡å™¨åˆ›å»ºæ•°æ®åº“ä½¿ç”¨çš„å­˜å‚¨ç¼–ç ä¸º utf8.

### 7. åˆ—ç±»å‹

#### 1. åˆ›å»ºè¡¨çš„æ—¶å€™ï¼ŒæŒ‡å®šçš„ç±»æ‰€èƒ½å­˜å‚¨çš„æ•°æ®ç±»å‹ã€‚

1. æ•°å€¼å‹

   1. **tinyint** å¾®æ•´å‹ å  1 ä¸ªå­—èŠ‚ï¼ŒèŒƒå›´-128~127

      TB GB MB KB byte bit

      1byte=8bit

   2. **smallint** å°æ•´å‹ å  2 ä¸ªå­—èŠ‚ï¼ŒèŒƒå›´-32768~32767
   3. **int** æ•´å‹ å  4 ä¸ªå­—èŠ‚ï¼ŒèŒƒå›´-2147483648~2147483647
   4. **bigint** å¤§æ•´å‹ å  8 ä¸ªå­—èŠ‚
   5. **float** å•ç²¾åº¦æµ®ç‚¹å‹ 4 ä¸ªå­—èŠ‚ å€¼è¶Šå¤§ç²¾åº¦è¶Šä½
   6. **double** åŒç²¾åº¦æµ®ç‚¹å‹ 8 ä¸ªå­—èŠ‚
   7. **decimal(M,D)** å®šç‚¹å°æ•°ï¼Œå°æ•°ç‚¹ä¸ä¼šæ”¹å˜,M è¡¨ç¤ºæœ‰æ•ˆä½æ•°ï¼ŒD ä»£è¡¨å°æ•°ç‚¹åçš„æœ‰æ•ˆä½æ•°
   8. **boolean/bool** å¸ƒå°”å‹ï¼Œç”¨äºå­˜å‚¨åªæœ‰ä¸¤ä¸ªå€¼çš„æ•°æ®ï¼Œåˆ†åˆ«æ˜¯ true å’Œ false,åœ¨ä½¿ç”¨çš„æ—¶å€™ä¼šè‡ªåŠ¨è½¬æ¢æˆ tinyint å‹ã€‚
   9. æ•°å€¼å‹å¼•å·å¯ä»¥çœç•¥ï¼Œåˆ«çš„éƒ½éœ€è¦åŠ å¼•å·ã€‚

2. æ—¥æœŸæ—¶é—´å‹
   1. **date** æ—¥æœŸå‹ '2021-09-02'
   2. **time** æ—¶é—´å‹ '08:22:10'
   3. **datetime** æ—¥æœŸæ—¶é—´å‹ '2021-09-02 08:22:10'
3. å­—ç¬¦ä¸²å‹
   1. **varchar(M)** å˜é•¿å­—ç¬¦ä¸² å‡ ä¹ä¸ä¼šäº§ç”Ÿç©ºé—´æµªè´¹ï¼Œæ•°æ®æ“ä½œé€Ÿåº¦è¾ƒæ…¢ max(M)=65535
   2. **char(M)** å®šé•¿å­—ç¬¦ä¸² å¯èƒ½äº§ç”Ÿç©ºé—´æµªè´¹ï¼Œæ•°æ®æ“ä½œé€Ÿåº¦ç›¸å¯¹å¿«ï¼Œå­˜å‚¨å®šé•¿çš„æ•°æ®ã€‚max(M)=255
   3. **text(M)** å¤§å‹å˜é•¿å­—ç¬¦ä¸² max(M)=2G

### 4. **åˆ—çº¦æŸ**

1. MySQL å¯ä»¥å¯¹è¦æ’å…¥çš„æ•°æ®è¿›è¡ŒéªŒè¯ï¼Œåªæœ‰ç¬¦åˆæ¡ä»¶çš„æ‰å…è®¸æ’å…¥

   create table è¡¨å(
   å±æ€§ åˆ—ç±»å‹ åˆ—çº¦æŸ
   );

   1. ä¸»é”®çº¦æŸ
      1. **primary key**
      2. å£°æ˜äº†ä¸»é”®çº¦æŸçš„åˆ—ä¸Šä¸å…è®¸å‡ºç°é‡å¤çš„å€¼ï¼Œä¹Ÿä¸å…è®¸ä¸º **null**ã€‚
      3. ä¼šè‡ªåŠ¨è¿›è¡Œæ’åº
      4. **ä¸€ä¸ªè¡¨åªèƒ½æœ‰ä¸€ä¸ªä¸»é”®çº¦æŸ**
      5. nullğŸˆ³ï¼Œè¡¨ç¤ºä¸€ä¸ªæš‚æ—¶æ— æ³•ç¡®å®šçš„å€¼ï¼Œ`nullæ˜¯å…³é”®å­—ï¼Œä½¿ç”¨çš„æ—¶å€™ä¸èƒ½åŠ å¼•å·`
   2. éç©ºçº¦æŸ

      1. **not null**
      2. å£°æ˜äº†éç©ºçº¦æŸçš„åˆ—ä¸Šç¦æ­¢æ’å…¥ null

   3. **å”¯ä¸€çº¦æŸ**
      1. **unique**
      2. å£°æ˜äº†å”¯ä¸€çº¦æŸçš„åˆ—ä¸å¯ä»¥å‡ºç°é‡å¤çš„å€¼ï¼Œå¯ä»¥é‡å¤å®šä¹‰
   4. **é»˜è®¤å€¼çº¦æŸ**
      1. å¯ä»¥ä½¿ç”¨çš„ default å…³é”®å­—è®¾ç½®é»˜è®¤å€¼
         1. é€šè¿‡ default å…³é”®å­—è°ƒç”¨
            ```sql
            insert into laptop values(70,defult);
            ```
         2. æ²¡æœ‰å‡ºç°çš„åˆ—è‡ªåŠ¨ç”Ÿæˆé»˜è®¤å€¼
            ```sql
            insert into(fid) laptop values(70);
            ```
   5. **æ£€æŸ¥çº¦æŸ**
      1. **check**
      2. ä¹Ÿç§°ä¸ºè‡ªå®šä¹‰çº¦æŸï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®å®é™…éœ€æ±‚æ·»åŠ çº¦æŸæ¡ä»¶
      3. mysql ä¸æ”¯æŒæ£€æŸ¥çº¦æŸï¼Œä¼šä¸¥é‡çš„å½±å“æ’å…¥é€Ÿåº¦ï¼ŒåæœŸå¯ä»¥ä½¿ç”¨ js æ¥å®ç°
      ```sql
      create table student(
      	id int check(id>0 and id<100)
      );
      ```
   6. **å¤–é”®çº¦æŸ**
      1. å¤–é”®åˆ—å‡ºç°çš„å€¼**å¿…é¡»**åœ¨å¦ä¸€ä¸ªè¡¨ä¸­çš„ä¸»é”®åˆ—ä¸Š**å‡ºç°**è¿‡çš„å€¼
         ```sql
         FOREIGN **KEY(familyid)** REFERENCES **family(fid)**
         ```
      2. **å¤–é”®åˆ—å’Œä¸»é”®åˆ—çš„åˆ—ç±»å‹è¦ä¿æŒä¸€è‡´ã€‚**

### 2. **è‡ªå¢åˆ—**

1. **auto_increment**
2. è‡ªåŠ¨å¢é•¿ï¼Œå£°æ˜è‡ªå¢åˆ—ï¼Œåªéœ€è¦èµ‹å€¼ä¸º nullï¼Œå°±ä¼šè·å–æœ€å¤§å€¼ç„¶ååŠ  1 æ’å…¥ã€‚
3. æ³¨æ„äº‹é¡¹ï¼šå¿…é¡»æ˜¯æ·»åŠ åœ¨ä¸»é”®å½¢å¼çš„æ•´æ•°åˆ—ï¼Œå…è®¸æ‰‹åŠ¨æ·»åŠ 

### 3. ç®€å•æŸ¥è¯¢

1.  æŸ¥è¯¢ç‰¹å®šçš„åˆ—
    1. **select åˆ—å 1,åˆ—å 2... from è¡¨å;**
2.  æŸ¥è¯¢æ‰€æœ‰çš„åˆ—
    1. **select \* from è¡¨å;**
3.  ç»™åˆ—èµ·åˆ«å
    1. select **eid as ç¼–å·,ename as å§“å** from emp;
    2. **as** å¯ä»¥çœç•¥çš„
4.  æ˜¾ç¤ºä¸åŒçš„è®°å½•
    1. select distinct sex from emp;
5.  æŸ¥è¯¢æ˜¯æ‰§è¡Œè®¡ç®—
    1. select 1+2+3+4;
6.  æŸ¥è¯¢çš„ç»“æ„æ’åº
    1. select \* from dept order by did asc;å‡åºæ’åˆ— ascendant
    2. select \* from dept order by did desc;é™åºæ’åˆ— descendant
    3. **é»˜è®¤æ˜¯æŒ‰å‡åºæ’åˆ—**
7.  æ¡ä»¶æŸ¥è¯¢
    1. select \* from emp **where** eid=5;
    2. è¿ç®—ç¬¦ < > â‰¤ â‰¥ â‰ 
    3. select \* from emp where deptid is null;
    4. select \* from emp where deptid is not null;
    5. `select * from emp where deptid!='null';è¿™ä¸ªä¸ºä»€ä¹ˆå¯ä»¥`
    6. **and/&& å¹¶ä¸”ï¼›éƒ½æ»¡è¶³**
    7. **or / || æˆ–è€…ï¼›æ»¡è¶³å…¶ä¸­ä¹‹ä¸€å³å¯**
    8. **deptid in(å€¼ 1,å€¼ 2);**
    9. **deptid not in(å€¼ 1,å€¼ 2);**
8.  æ¨¡ç³Šæ¡ä»¶æŸ¥è¯¢
    1. **select \* from emp where ename like '%a%';**
       1. **%** åŒ¹é…ä»»æ„ä¸ªå­—ç¬¦
       2. **\_** åŒ¹é…ä»»æ„ 1 ä¸ªå­—ç¬¦

### 8. ä½¿ç”¨å®¢æˆ·ç«¯è¿æ¥æœåŠ¡å™¨ç«¯

1.  `mysql.exe -h127.0.0.1 -P3306 -uroot -p`

    `-h host` è¦è¿æ¥çš„æœåŠ¡å™¨ç«¯åŸŸåæˆ–è€… IP åœ°å€ 127.0.0.1ã€localhost

    `-P post` ç«¯å£å· 3306

    `-u user` ç”¨æˆ·å root ç®¡ç†å‘˜

    `-p password` å¯†ç 

2.  `quit;` é€€å‡ºè¿æ¥

## 2.å¸¸ç”¨çš„ç®¡ç†çš„å‘½ä»¤

```sql
`show databases;` # æ˜¾ç¤ºå½“å‰æ•°æ®åº“

show create database æ•°æ®åº“å; #æ˜¾ç¤ºå½“å‰æ•°æ®åº“è¯¦æƒ…

create database æ•°æ®åº“å; #åˆ›å»ºæ•°æ®åº“

drop databse (if exites) æ•°æ®åº“å; #åˆ é™¤æ•°æ®åº“

use database; # è¿›å…¥æ•°æ®åº“

show tables; # æ˜¾ç¤ºå½“å‰æ•°æ®åº“ä¸‹æ‰€æœ‰è¡¨

 create table è¡¨å(
   å€¼1 ç±»å‹,
   å€¼2 ç±»å‹,
   å€¼3 ç±»å‹
  )charset utf8; #åˆ›å»ºæ•°æ®å¹¶è®¾ç½®ç¼–ç ç±»å‹

describe | desc è¡¨å; # æŸ¥è¯¢è¡¨å†…çš„è¡Œæ•°æ®

insert into è¡¨å values(å€¼1,å€¼2,å€¼3); #åœ¨è¡¨ä¸­æ’å…¥æ•°æ®

update è¡¨å set ä¿®æ”¹çš„æ•°æ® where æ¡ä»¶; #ä¿®æ”¹è¡¨ä¸­æ•°æ®

delete from è¡¨å where æ¡ä»¶; #åˆ é™¤è¡¨ä¸­æ•°æ®
```
